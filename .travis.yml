language: go
go:
  - 1.14
notifications:
  email: false
matrix:
  include:
    - env: SCRIPT="test -c -u" VIM_VERSION=vim-8.0
    - env: SCRIPT="test -c -u" VIM_VERSION=vim-8.2
    - env: SCRIPT="test -c -u" VIM_VERSION=nvim
    - env: ENV=vimlint SCRIPT=lint VIM_VERSION=vim-8.2
      language: python
      python: 3.6
install:
  - ./scripts/install-vim $VIM_VERSION
  - |
    if [ "$ENV" = "vimlint" ]; then
      pip install vim-vint covimerage==0.2.1 codecov pathlib
    else
      pip install --user vim-vint covimerage==0.2.1 codecov pathlib
    fi
script:
  - ./scripts/$SCRIPT $VIM_VERSION
